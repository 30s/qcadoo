<?xml version="1.0" encoding="UTF-8"?>

<view xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schema.qcadoo.org/view" 
	xsi:schemaLocation="http://schema.qcadoo.org/view http://schema.qcadoo.org/view.xsd"
	name="userDetails"
	modelPlugin="qcadooSecurity"
	modelName="user"
	defaultAuthorizationRole="ROLE_ADMIN">
	
	<component type="window" name="window">
		<ribbon>
			<group template="navigation" />
			<group template="formSaveAndRemoveActions" />
		</ribbon>
		<component type="form" name="user" reference="form">
			<component type="gridLayout" name="gridLayout" columns="3"
				rows="1" fixedRowHeight="false">
				<layoutElement column="1" row="1">
					<component type="flowLayout" name="flowLayout">
						<component type="input" name="login" field="userName" />
						<component type="select" name="role" field="role" />
						<component type="input" name="email" field="email" />
						<component type="input" name="firstName" field="firstName" />
						<component type="input" name="lastName" field="lastName" />
						<component type="textarea" name="description" field="description" />
						<component type="password" name="password" reference="passwordTextInput"
							field="password" />
						<component type="password" name="passwordConfirmation"
							reference="passwordConfirmationTextInput" field="passwordConfirmation" />
						<component type="button" name="changePasswordButton"
							reference="changePasswordButton" source="#{form}">
							<option type="correspondingView" value="users/userChangePassword" />
							<option type="correspondingComponent" value="form" />
							<option type="correspondingViewInModal" value="true" />
						</component>
					</component>
				</layoutElement>
			</component>
			<option type="header" value="true" />
			<option type="expression" value="#userName" />
		</component>
	</component>
	<beforeRender class="com.qcadoo.users.UserService"
		method="hidePasswordOnUpdateForm" />
</view>